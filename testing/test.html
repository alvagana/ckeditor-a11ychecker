<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Testing quick fixes</title>
        <script src="../ckeditor.js"></script>
        <script src="https://code.jquery.com/jquery-2.2.3.min.js"></script>
        <script src="../scripts/require.js"></script>
        <link rel="stylesheet" href="../styles.css"/> 
    </head>
    <body>
    	<textarea id="editor1" name="editor1" > 
    		<h1>Hello</h1>

    		<p><strong>Now we're moving on to tables...</strong></p>
			<table>
				<caption>Shelly's Daughters</caption>


				<tr>
				<th>Name</th>
				<th>Age</th>
				<th>Birthday</th>
				</tr>

				<tr>
				<th>Jackie</th>
				<td>5</td>
				<td>April 5</td>
				</tr>

				<tr>
				<th>Beth</th>
				<td>8</td>
				<td>January 14</td>
				</tr>

				<tr>
				<th>Jason</th>
				<td>9</td>
				<td>February 14</td>
				</tr>

				<tr>
				<th>Nicole</th>
				<td>6</td>
				<td>July 3</td>
				</tr>

				<tr>
				<th>Mark</th>
				<td>7</td>
				<td>December 16</td>
				</tr>

			</table>
			<br/>
			<table>
			  <caption>Irregular headers</caption>
			  <col>
			  <colgroup span="2"></colgroup>
			  <colgroup span="2"></colgroup>
			  <tr>
			    <td rowspan="2"></td>
			    <th colspan="2">Mars</th>
			    <th colspan="2">Venus</th>
			  </tr>
			  <tr>
			    <th>Produced</th>
			    <th>Sold</th>
			    <th>Produced</th>
			    <th>Sold</th>
			  </tr>
			  <tr>
			    <th>Teddy Bears</th>
			    <td>50,000</td>
			    <td>30,000</td>
			    <td>100,000</td>
			    <td>80,000</td>
			  </tr>
			  <tr>
			    <th>Board Games</th>
			    <td>10,000</td>
			    <td>5,000</td>
			    <td>12,000</td>
			    <td>9,000</td>
			  </tr>
			</table>
			<br/>

    		<table summary="Supplier contacts">
				  <caption>
				    Supplier contacts
				  </caption>
				  <tr>
				    <th id="blank"></th>
				    <th id="co1" headers="blank">Example 1 Ltd</th>
				    <th id="co2" headers="blank">Example 2 Co</th>
				  </tr>
				  <tr>
				    <th id="c1" headers="blank">Contact</th>
				    <td headers="co1 c1">James Phillips</td>
				    <td headers="co2 c1">Marie Beauchamp</td>
				  </tr>
				  <tr>
				    <th id="p1"  headers="blank">Position</th>
				    <td headers="co1 p1">Sales Director</td>
				    <td headers="co2 p1">Sales Manager</td>
				  </tr>
				  <tr>
				    <th id="e1"  headers="blank">Email</th>
				    <td headers="co1 e1">jp@1ltd.example.com</td>
				    <td headers="co2 e1">marie@2co.example.com</td>
				  </tr>
				  <tr>
				    <th></th>
				    <th id="co3" headers="blank">Example 3 Ltd</th>
				    <th id="co4" headers="blank">Example 4 Inc</th>
				  </tr>
				  <tr>
				    <th id="c2"  headers="blank">Contact</th>
				    <td headers="co3 c2">Suzette Jones</td>
				    <td headers="co4 c2">Alex Howe</td>
				  </tr>
				  <tr>
				    <th id="p2" headers="blank">Position</th>
				    <td headers="co3 p2">Sales Officer</td>
				    <td headers="co4 p2">Sales Director</td>
				  </tr>
				  <tr>
				    <th id="e2" headers="blank">Email</th>
				    <td headers="co3 e2">Suz@ltd3.example.com</td>
				    <td headers="co4 e2">howe@4inc.example.com</td>
				  </tr>
			</table>

			<br/>
			<table>
				<caption>Poster availability</caption>
				<thead>
					<tr>
						<th>Poster name</th>
						<th>Color</th>
						<th colspan="3">Sizes available</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<th rowspan="3">Zodiac</th>
						<th>Full color</th>
						<td>A2</td>
						<td>A3</td>
						<td>A4</td>
					</tr>
					<tr>
						<th>Black and white</th>
						<td>A1</td>
						<td>A2</td>
						<td>A3</td>
					</tr>
					<tr>
						<th>Sepia</th>
						<td>A3</td>
						<td>A4</td>
						<td>A5</td>
					</tr>
				</tbody>
				<tbody>
					<tr>
						<th rowspan="2">Angels</th>
						<th>Black and white</th>
						<td>A1</td>
						<td>A3</td>
						<td>A4</td>
					</tr>
					<tr>
						<th>Sepia</th>
						<td>A2</td>
						<td>A3</td>
						<td>A5</td>
					</tr>
				</tbody>
			</table>
			<br/>

		<table>
			<caption>Items Sold August 2016</caption>
			<thead>
				<tr>
					<td>&nbsp;</td>
					<td>&nbsp;</td>
					<th colspan="3">Clothes</th>
					<th colspan="2">Accessories</th>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td>&nbsp;</td>
					<th>Trousers</th>
					<th>Skirts</th>
					<th>Dresses</th>
					<th>Bracelets</th>
					<th>Rings</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<th rowspan="3">Belgium</th>
					<th>Antwerp</th>
					<td>56</td>
					<td>22</td>
					<td>43</td>
					<td>72</td>
					<td>23</td>
				</tr>
				<tr>
					<th>Gent</th>
					<td>46</td>
					<td>18</td>
					<td>50</td>
					<td>61</td>
					<td>15</td>
				</tr>
				<tr>
					<th>Brussels</th>
					<td>51</td>
					<td>27</td>
					<td>38</td>
					<td>69</td>
					<td>28</td>
				</tr>
			</tbody>
			<tbody>
				<tr>
					<th rowspan="2">The Netherlands</th>
					<th>Amsterdam</th>
					<td>89</td>
					<td>34</td>
					<td>69</td>
					<td>85</td>
					<td>38</td>
				</tr>
				<tr>
					<th>Utrecht</th>
					<td>80</td>
					<td>12</td>
					<td>43</td>
					<td>36</td>
					<td>19</td>
				</tr>
			</tbody>
		</table>


		
			<p>Tests with links...</p>
			<a href="yahoo.com">Click here</a>
			<br/>
			<a href="google.com">These links both</a>
			<a href="google.com">lead to Google</a>


			<br/>
			<br/>
			<p>Image Alt same as link</p>
			<img src="https://cdn.pixabay.com/photo/2015/04/19/08/32/marguerite-729510__340.jpg" alt="https://cdn.pixabay.com/photo/2015/04/19/08/32/marguerite-729510__340.jpg" />
			<br/>
			<p>Image Alt is too long</p>
			<img src="https://cdn.pixabay.com/photo/2015/04/19/08/32/marguerite-729510__340.jpg" alt="aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa" />
			<br/>
			<p>Image has no alt</p>
			<img src="https://cdn.pixabay.com/photo/2015/04/19/08/32/marguerite-729510__340.jpg"/>
			<br/>

    	</textarea>

        <script>
        	// Performance optimization:
		    // Send a request for tests JSON file ASAP, so it's likely to be ready when the user runs Acessibility Checker.
		    $.getJSON('https://ckeditor.com/docs/ckeditor4/4.16.1/examples/assets/plugins/a11ychecker/libs/quail/tests.json');

		    CKEDITOR.replace('editor1', {
		      extraPlugins: 'a11ychecker',
		      removePlugins: 'scayt,wsc',
		      height: 500,
		      allowedContent: true,
		      a11ychecker_quailParams: {
		        jsonPath: 'https://ckeditor.com/docs/ckeditor4/4.16.1/examples/assets/plugins/a11ychecker/libs/quail',
		        // Override Accessibility Checker guidelines from the default configuration.
		        guideline: [
			        "colorFontContrast",
			        "tableWithBothHeadersUseScope",
					"tableComplexHasSummary",
					"tableUsesCaption",
					"tableSummaryDoesNotDuplicateCaption",
					'tableDataShouldHaveTh',
			        'imgAltIsDifferent',
			        'imgAltIsTooLong',
			        'imgWithEmptyAlt',
		        ]
		      },
		      contentsCss: [
		        'http://cdn.ckeditor.com/4.16.1/full-all/contents.css',
		        'https://ckeditor.com/docs/ckeditor4/4.16.1/examples/assets/accessibilitychecker/contents.css',
		        '../styles.css'
		      ],
		      // This is added if we want to have new quick fixes/issus that we implemented.
				on: {
		        instanceReady: function() {
		            var editor = this,
		                a11ychecker = editor._.a11ychecker;
		            if ( a11ychecker.exec ) {
		                a11yCheckerReady( editor )
		            } else {
		                a11ychecker.once( 'loaded', function() {
		                    a11yCheckerReady( editor );
		                } );
		            }

		            function a11yCheckerReady( editor ) {
		                var a11ychecker = editor._.a11ychecker,
		                    a11ycheckerStatic = CKEDITOR.plugins.a11ychecker;

		                // Binded Quick Fixes
		                a11ychecker.engine.fixesMapping.colorFontContrast = [ 'ColorChangeTest' ];
		                a11ychecker.engine.fixesMapping.tableWithBothHeadersUseScope = [ 'TableScope'];
		                a11ychecker.engine.fixesMapping.tableComplexHasSummary = [ 'AddTableSummary' ];
		                a11ychecker.engine.fixesMapping.aSuspiciousLinkText = [ 'SuspiciousLinkFix'];
		                a11ychecker.engine.fixesMapping.aMustHaveTitle = [ 'LinkTitleFix'];
		                a11ychecker.engine.fixesMapping.tableSummaryDoesNotDuplicateCaption = [ 'ChangeTableSummary'];
		                a11ychecker.engine.fixesMapping.tableCaptionIdentifiesTable = ['CheckTableCaption' ];
		                a11ychecker.engine.fixesMapping.tableLayoutHasNoCaption = ['RemoveTableCaption'];

		            };
		        }
    		}
		})
        </script>
    </body>
</html>

